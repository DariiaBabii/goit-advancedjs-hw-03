{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/main.js"],"sourcesContent":["// import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_LvKqxJmpYZI2RnaKstuRWeXB02ZQpWFw0LcK4sfAprxF1aWtKZoqIknnFTTlazHd';\n\nexport const fetchBreeds = async () => {\n  try {\n    const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n    return response.data;\n  } catch (error) {\n    throw new Error('Failed to fetch breeds');\n  }\n};\n\nexport const fetchCatByBreed = async breedId => {\n  try {\n    const response = await axios.get(\n      `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n    );\n    return response.data[0];\n  } catch (error) {\n    throw new Error('Failed to fetch cat information');\n  }\n};\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst errorElement = document.querySelector('.error');\nconst catInfo = document.querySelector('.cat-info');\n\nconst showLoader = () => {\n  loader.classList.remove('invisible');\n};\n\nconst hideLoader = () => {\n  loader.classList.add('invisible');\n};\n\nconst showError = message => {\n  errorElement.classList.remove('invisible');\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n  });\n};\n\nconst hideError = () => {\n  errorElement.classList.add('invisible');\n};\n\nconst loadBreeds = async () => {\n  showLoader();\n  hideError();\n  try {\n    const breeds = await fetchBreeds();\n    breeds.forEach(breed => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      breedSelect.appendChild(option);\n    });\n    new SlimSelect({\n      select: breedSelect,\n      events: {\n        afterChange: newVal => loadCatInfo(newVal[0].value),\n      },\n    });\n    breedSelect.classList.remove('invisible');\n  } catch (error) {\n    showError(error.message);\n  } finally {\n    hideLoader();\n  }\n};\n\nconst loadCatInfo = async breedId => {\n  showLoader();\n  hideError();\n  catInfo.classList.add('invisible');\n  try {\n    const cat = await fetchCatByBreed(breedId);\n    const { url, breeds } = cat;\n    const breed = breeds[0];\n\n    catInfo.innerHTML = `\n      <img class=\"cat-img\" src=\"${url}\" alt=\"${breed.name}\" />\n      <h2 class=\"cat-name\">${breed.name}</h2>\n      <p class=\"cat-des\">${breed.description}</p>\n      <p class=\"cat-des\"><strong>Temperament:</strong> ${breed.temperament}</p>\n    `;\n    catInfo.classList.remove('invisible');\n  } catch (error) {\n    showError(error.message);\n  } finally {\n    hideLoader();\n  }\n};\n\nloadBreeds();\n"],"names":["fetchBreeds","fetchCatByBreed","breedId","breedSelect","loader","errorElement","catInfo","showLoader","hideLoader","showError","message","hideError","loadBreeds","breed","option","newVal","loadCatInfo","error","cat","url","breeds"],"mappings":"ssBAEA,MAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEK,MAAMA,EAAc,SAAY,CACrC,GAAI,CAEF,OADiB,MAAM,MAAM,IAAI,qCAAqC,GACtD,IACjB,MAAe,CACd,MAAM,IAAI,MAAM,wBAAwB,CACzC,CACH,EAEaC,EAAkB,MAAMC,GAAW,CAC9C,GAAI,CAIF,OAHiB,MAAM,MAAM,IAC3B,wDAAwDA,CAAO,EACrE,GACoB,KAAK,CAAC,CACvB,MAAe,CACd,MAAM,IAAI,MAAM,iCAAiC,CAClD,CACH,ECrBMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,QAAQ,EAC9CC,EAAU,SAAS,cAAc,WAAW,EAE5CC,EAAa,IAAM,CACvBH,EAAO,UAAU,OAAO,WAAW,CACrC,EAEMI,EAAa,IAAM,CACvBJ,EAAO,UAAU,IAAI,WAAW,CAClC,EAEMK,EAAYC,GAAW,CAC3BL,EAAa,UAAU,OAAO,WAAW,EACzC,SAAS,MAAM,CACb,MAAO,QACP,QAASK,EACT,SAAU,UACd,CAAG,CACH,EAEMC,EAAY,IAAM,CACtBN,EAAa,UAAU,IAAI,WAAW,CACxC,EAEMO,EAAa,SAAY,CAC7BL,IACAI,IACA,GAAI,EACa,MAAMX,KACd,QAAQa,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3BV,EAAY,YAAYW,CAAM,CACpC,CAAK,EACD,IAAI,WAAW,CACb,OAAQX,EACR,OAAQ,CACN,YAAaY,GAAUC,EAAYD,EAAO,CAAC,EAAE,KAAK,CACnD,CACP,CAAK,EACDZ,EAAY,UAAU,OAAO,WAAW,CACzC,OAAQc,EAAO,CACdR,EAAUQ,EAAM,OAAO,CAC3B,QAAY,CACRT,GACD,CACH,EAEMQ,EAAc,MAAMd,GAAW,CACnCK,IACAI,IACAL,EAAQ,UAAU,IAAI,WAAW,EACjC,GAAI,CACF,MAAMY,EAAM,MAAMjB,EAAgBC,CAAO,EACnC,CAAE,IAAAiB,EAAK,OAAAC,CAAQ,EAAGF,EAClBL,EAAQO,EAAO,CAAC,EAEtBd,EAAQ,UAAY;AAAA,kCACUa,CAAG,UAAUN,EAAM,IAAI;AAAA,6BAC5BA,EAAM,IAAI;AAAA,2BACZA,EAAM,WAAW;AAAA,yDACaA,EAAM,WAAW;AAAA,MAEtEP,EAAQ,UAAU,OAAO,WAAW,CACrC,OAAQW,EAAO,CACdR,EAAUQ,EAAM,OAAO,CAC3B,QAAY,CACRT,GACD,CACH,EAEAI,EAAY"}